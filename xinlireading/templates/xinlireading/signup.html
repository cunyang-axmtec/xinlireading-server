{% extends 'xinlireading/base-reg.html' %}

{% block title %}注册{% endblock %}

{% block content %}

{% load staticfiles %}
<!-- <link rel="stylesheet" type="text/css" href="{% static 'xinlireading/css/bootstrap.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'xinlireading/css/custom.css' %}" /> -->
<link rel="stylesheet" type="text/css" href="{% static 'xinlireading/css/validator-custom.css' %}" />

<!-- <script src="http://code.jquery.com/jquery.min.js"></script> -->
<script type="text/javascript" src="{% static 'xinlireading/js/jquery-2.2.4.min.js' %}"></script>
<script type="text/javascript" src="{% static 'xinlireading/js/validator.js' %}"></script>

<form method="post" action="" data-toggle="validator" role="form" name="myForm">
  {% csrf_token %}
  <div class="div-content-signup-container">
    <div class="div-content-signup-panel">
      <p class="title">注册</p>
      <p class="subtitle">用电子邮箱注册</p>
      {% if form.errors %}
        {% for field in form %}
          {% for error in field.errors %}
          <!-- <p class="data-validate-error"> {{error}}</p> -->
           {% if error == 'A user with that username already exists.' %}
            <p class="data-validate-error">您输入的电子邮件地址已被注册。请重新输入。</p>
           {% endif %}
          {% endfor %}
        {% endfor %}
      {% endif %}
      <div class="form-group form-group-custom">
        <div class="input-group">
          <div class="input-group-addon">
            <span class="glyphicon glyphicon-envelope"></span>
          </div>
          <input type="email" data-error="请输入一个有效的电子邮件地址" class="form-control" name="username" placeholder="Email"  required />
        </div>
        <div class="help-block custom-help-block with-errors"></div>
      </div>

      <div class="form-group form-group-custom">
        <div class="input-group">
          <div class="input-group-addon">
            <span class="glyphicon glyphicon-lock"></span>
          </div>
          <input type="password" class="form-control" id="password1" name="password1" placeholder="Password"
                 data-minlength="8" maxlength=20 data-error="密码必须介于 8 至 20 个字符之间；请注意大小写！" required />
        </div>
        <div class="help-block with-errors"></div>

      </div>

      <div class="form-group form-group-custom">
        <div class="input-group">
          <div class="input-group-addon">
            <span class="glyphicon glyphicon-lock"></span>
          </div>
          <input type="password" class="form-control" name="password2" placeholder="Confirm Password"
                 data-match="#password1" data-match-error="两次输入的密码不一致" data-error="密码必须介于 8 至 20 个字符之间；请注意大小写！"
           required />
      </div>
      <div class="help-block with-errors"></div>

      </div>

      <div class="form-group">
        <button type="submit" class="btn btn-primary btn-primary-custom btn-primary-custom-submit">注册</button>
      </div>
      <p class="copyright">创建帐户表示您接受我们的<a>服务条款</a>。</p>
    </div>
  </div>
</form>
{% endblock %}
